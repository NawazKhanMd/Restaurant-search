(this.webpackJsonpmaps_tableau=this.webpackJsonpmaps_tableau||[]).push([[0],{43:function(e,a,t){e.exports=t(76)},48:function(e,a,t){},72:function(e,a,t){e.exports=t.p+"static/media/no_data.0775a7d6.jpg"},75:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(21),o=t.n(l),r=(t(48),t(11)),i=t(13),s=t(16),m=t(20),u="loading",d="get_movies_success",p="no_movies_found",v="update_fav_movies",f="get_movie_details";console.log();var b={loading:!1,movies:[],favMovies:null==localStorage.getItem("favMovies")?[]:JSON.parse(localStorage.getItem("favMovies")),selectedMovie:{}},E=Object(i.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:return e.noMoviesFound=!1,1==a.pageNumber?e.movies=Object(m.a)(a.payload.Search):e.movies=[].concat(Object(m.a)(e.movies),Object(m.a)(a.payload.Search)),Object(s.a)({},e);case p:return e.noMoviesFound=!0,e.movies=[],Object(s.a)({},e);case v:var t=e.favMovies.findIndex((function(e){return e==a.payload.imdbID}));return-1==t?e.favMovies.push(a.payload.imdbID):e.favMovies.splice(t,1),localStorage.setItem("favMovies",JSON.stringify(e.favMovies)),e.movies=Object(m.a)(e.movies),Object(s.a)({},e);case f:return e.selectedMovie=Object(s.a)({},a.payload),Object(s.a)({},e);case u:return e.loading=a.flag,Object(s.a)({},e);default:return e}}}),g=t(39),h=t(17),y=t(78),N=t(79),O=t(80),j=JSON.parse('{"REACT_APP_API_KEY":"6f29044"}').REACT_APP_API_KEY,M={omdbapiURL:"http://www.omdbapi.com/?s={searchKey}&apikey=".concat(j,"&page={pageNumber}"),getMovieDetails:"http://www.omdbapi.com/?i={IMDBkey}&apikey=".concat(j,"&plot=full")},S=t(53),I=function(e,a){var t;return t=e.url,S.get(t).then((function(e){return{type:"success",data:e}})).catch((function(e){return{type:"failed",data:e}})).finally((function(){}))},D=function(e){return function(a){a({type:u,flag:e})}},k=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(t){t(D(!0));var n={url:M.omdbapiURL.replace("{searchKey}",e).replace("{pageNumber}",a),method:"GET"};return I(n).then((function(e){t(D(!1)),"success"==e.type?"True"==e.data.data.Response?t({type:d,payload:e.data.data,pageNumber:a}):t({type:p}):t(D(!1))}))}},w=t(14),T=t(15),_=function(){var e=Object(r.b)(),a=(Object(r.c)((function(e){return e.home.loading})),Object(r.c)((function(e){return e.home.movies}))),l=Object(r.c)((function(e){return e.home.noMoviesFound})),o=Object(r.c)((function(e){return e.home.favMovies})),i=Object(r.c)((function(e){return e.home.selectedMovie})),s=Object(n.useState)(!1),m=Object(h.a)(s,2),u=m[0],b=m[1],E=Object(n.useState)(!1),g=Object(h.a)(E,2),j=g[0],S=g[1],_=Object(n.useState)(!1),x=Object(h.a)(_,2),P=x[0],R=x[1],A=Object(n.useState)(""),C=Object(h.a)(A,2),B=C[0],J=C[1],Y=Object(n.useState)(1),F=Object(h.a)(Y,2),W=F[0],H=F[1],K=function(a){var t;e((t=a,function(e){e({type:v,payload:t})}))},G=function(a){var t;setTimeout((function(){S(!0)}),200),e((t=a.imdbID,function(e){e(D(!0));var a={url:M.getMovieDetails.replace("{IMDBkey}",t),method:"GET"};return I(a).then((function(a){e(D(!1)),"success"==a.type?(console.log(a.data),"True"==a.data.data.Response?(console.log(a.data.data),e({type:f,payload:a.data.data})):e({type:p})):e(D(!1))}))}))};return c.a.createElement("div",{className:"home-container"},c.a.createElement("diV",{className:"fav-movies-btn"},P&&c.a.createElement(w.a,{onClick:function(){P&&(b(!1),R(!1),e((function(e){e({type:d,payload:{Search:[]},pageNumber:1})})))},className:"close-button",icon:T.c}),!P&&c.a.createElement(w.a,{onClick:function(){null!=localStorage.getItem("favMovies")?(b(!0),R(!0),e((function(e){e(D(!0)),JSON.parse(localStorage.getItem("favMovies")).forEach((function(a,t){var n={url:M.getMovieDetails.replace("{IMDBkey}",a),method:"GET"};I(n).then((function(a){e(D(!1)),"success"==a.type?"True"==a.data.data.Response?e({type:d,payload:{Search:[a.data.data]},pageNumber:t+1}):e({type:p}):e(D(!1))}))}))}))):alert("Please select some fav movies")},className:"small-fav-button",icon:T.a})),c.a.createElement("div",{className:u?"input-container  move":"input-container  dontMove"},c.a.createElement("form",{onSubmit:function(a){var t=new FormData(a.target).get("Search");J(t),b(!0),R(!1),e(k(t,1)),H(1),a.preventDefault()},autocomplete:"off"},c.a.createElement(y.a,{className:"justify-content-md-center margin0"},c.a.createElement(N.a,{xs:10,md:12,lg:12},c.a.createElement("div",{className:"input-card"},c.a.createElement("input",{placeholder:"Search for a movie",name:"Search",type:"text-input"}),c.a.createElement("button",{type:"submit",className:"search-btn"},c.a.createElement(w.a,{icon:T.b}))))))),c.a.createElement("div",{className:j?"slide-panel  slideUp":"slide-panel  slideDown"},c.a.createElement("div",{className:"slide-panel-imageBoard",style:{backgroundImage:"url("+i.Poster+")"}},c.a.createElement(w.a,{onClick:function(){S(!1)},className:"close-button",icon:T.c}),c.a.createElement(w.a,{onClick:function(){return K(i)},className:-1==o.indexOf(i.imdbID)?"small-un-fav-button":"small-fav-button",icon:T.a}),c.a.createElement(y.a,{className:"margin0"},c.a.createElement(N.a,{xs:2,md:2,lg:2},c.a.createElement(O.a,null,c.a.createElement(O.a.Img,{variant:"top",src:i.Poster}))))),c.a.createElement("div",{className:"slide-panel-detailsBoard"},c.a.createElement(y.a,{className:"margin0"},c.a.createElement(N.a,{xs:12,md:{span:9,offset:3},lg:{span:9,offset:3}},c.a.createElement("div",{className:"one-line"},c.a.createElement("h3",null,i.Title," ")," ",c.a.createElement("p",null,"(",i.Type,")")," "),"N/A"!=i.Director&&c.a.createElement("p",null,"Director :  ",c.a.createElement("b",null,i.Director)),"N/A"!=i.Writer&&c.a.createElement("p",null,"Writer :  ",c.a.createElement("b",null,i.Writer)),c.a.createElement("p",null,"IMDB Rating: ",c.a.createElement("b",null,i.imdbRating),", Released: ",c.a.createElement("b",null,i.Released),"series"==i.Type&&c.a.createElement("span",null,", Run Duration: ",c.a.createElement("b",null,i.Year))),c.a.createElement("div",{className:"one-line"},c.a.createElement("p",null,"Cast: "),c.a.createElement("p",null,c.a.createElement("b",null,i.Actors))),c.a.createElement("div",{className:"one-line"},c.a.createElement("p",null,"Plot: "),c.a.createElement("p",null,c.a.createElement("b",null,i.Plot))))))),l&&c.a.createElement("div",{className:"no-movie-container"},c.a.createElement("img",{src:t(72)}),c.a.createElement("p",null,"Sorry we did not find anything")),c.a.createElement("div",{className:"movies-container",onScroll:function(a){if(!P){var t=a.target;Math.round(Number(t.scrollHeight)-Number(t.scrollTop))!==t.clientHeight&&Math.round(Number(t.scrollHeight)-Number(t.scrollTop))!==t.clientHeight+1||(e(k(B,W+1)),H(W+1))}}},P&&c.a.createElement("h5",{className:"orange-text text-center"},"Your Favourite Movies"),c.a.createElement(y.a,{className:"justify-content-md-center margin0"},a.map((function(e,a){return c.a.createElement(N.a,{key:a,xs:12,md:4,lg:2},c.a.createElement(O.a,{style:{margin:"10px"}},c.a.createElement(w.a,{onClick:function(){return K(e)},className:-1==o.indexOf(e.imdbID)?"un-fav-button":"fav-button",icon:T.a}),c.a.createElement(O.a.Img,{onClick:function(){return G(e)},variant:"top",src:e.Poster}),c.a.createElement(O.a.Body,null,c.a.createElement(O.a.Title,{onClick:function(){return G(e)}},e.Title),c.a.createElement(O.a.Text,null,"Year:"),c.a.createElement(O.a.Text,null,e.Year))))})))))},x=t(41),P=t(12),R=Object(i.d)(E,Object(i.a)(g.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(74),t(75);o.a.render(c.a.createElement((function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,{store:R},c.a.createElement(x.a,null,c.a.createElement(P.c,null,c.a.createElement(P.a,{exact:!0,strict:!0,path:"/",children:c.a.createElement(_,null)})))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8fc83283.chunk.js.map